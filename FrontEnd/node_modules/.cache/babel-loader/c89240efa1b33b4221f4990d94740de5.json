{"ast":null,"code":"// import * as echarts from 'echarts';\nimport EditBlock from './components/EditBlock.vue';\nimport InstructionBlock from './components/InstructionBlock.vue';\nimport { getExamineHistory } from '@/request/testApi';\nexport default {\n  components: {\n    EditBlock,\n    InstructionBlock\n  },\n  mounted() {\n    getExamineHistory({\n      email: this.$store.state.email\n    }).then(res => {\n      if (!res || !res.data || res.data.length === 0) {\n        this.hasRecord = false;\n      } else {\n        this.hasRecord = true;\n        const data = res.data[0];\n        this.healthProbability = Number((Number(data.result) * 100).toFixed(1));\n        this.BMI = data.BMI;\n        this.weight = data.weight;\n        this.weightGain = data.weightGain + '';\n        this.menstrualCycle = data.menstrualCycle;\n        console.log('weightGain', this.weightGain);\n      }\n    });\n  },\n  data() {\n    return {\n      hasRecord: false,\n      healthProbability: 0,\n      BMI: '',\n      weight: '',\n      weightGain: '',\n      menstrualCycle: '',\n      isEditing: false,\n      instruction: false,\n      colors: [{\n        color: '#F56C6C',\n        percentage: 20\n      }, {\n        color: '#E6A23C',\n        percentage: 40\n      }, {\n        color: '#61A67D',\n        percentage: 60\n      }, {\n        color: '#64C23A',\n        percentage: 80\n      }, {\n        color: '#67C23A',\n        percentage: 100\n      }]\n    };\n  },\n  computed: {\n    healthStatus() {\n      if (this.healthProbability < 25) {\n        return 'WEAK';\n      } else if (this.healthProbability < 50) {\n        return 'NORMAL';\n      } else if (this.healthProbability < 75) {\n        return 'GOOD';\n      } else {\n        return 'GREAT';\n      }\n    },\n    isWeightGain() {\n      if (this.weightGain === '') return 'N/A';\n      return this.weightGain === '1' ? 'True' : 'False';\n    }\n  },\n  methods: {\n    submitEditData(obj) {\n      this.BMI = Number(Number(obj.BMI).toFixed(1));\n      this.weightGain = obj.weightGain;\n      this.menstrualCycle = Number(Number(obj.menstrualCycle).toFixed(1));\n      this.weight = Number(Number(obj.weight).toFixed(1));\n      // this.healthProbability = this.ret[this.ind]\n      // this.ind++\n      // this.healthProbability = Number((100 * Math.random()).toFixed(1))\n      this.healthProbability = Number((100 * Number(obj.result)).toFixed(1));\n      this.hasRecord = true;\n    },\n    closeEditingBlock() {\n      this.isEditing = false;\n    },\n    handleEdit() {\n      this.isEditing = true;\n    },\n    openInstruction() {\n      this.instruction = true;\n    }\n  }\n};","map":{"version":3,"mappings":"AAyFA;AACA;AACA;AACA;AAEA;EACAA;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;IACA,GACAC;MACA;QACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAC;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,SACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA;IAGA;EACA;EACAC;IACAC;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["components","EditBlock","InstructionBlock","mounted","getExamineHistory","email","then","console","data","hasRecord","healthProbability","BMI","weight","weightGain","menstrualCycle","isEditing","instruction","colors","color","percentage","computed","healthStatus","isWeightGain","methods","submitEditData","closeEditingBlock","handleEdit","openInstruction"],"sourceRoot":"src/view/dashboard","sources":["DashBoard.vue"],"sourcesContent":["<template>\n  <el-row class='dashboard-container'>\n\t\t\t<el-col :span='15' class='chart-container'>\n\t\t\t\n\t\t\t\t<el-progress \n\t\t\t\t\ttype=\"dashboard\" \n\t\t\t\t\t:percentage=\"healthProbability\" \n\t\t\t\t\t:color=\"colors\"\n\t\t\t\t\t:width='250'\n\t\t\t\t\t:stroke-width='30'\n\t\t\t\t\tclass='chart'\n\t\t\t\t\tv-if=\"hasRecord\"\n\t\t\t\t>\n\t\t\t\t</el-progress>\n\t\t\t\t<el-empty v-else description=\" \"></el-empty>\n\t\t\t\t<!-- <div ref='chart' style='width: 80%; height: 60%; margin: 0 auto;'></div> -->\n\t\t\t\t\n\t\t\t\t<div class='card-container'>\n\t\t\t\n\t\t\t\t\t<div class='card'>\n\t\t\t\t\t\t<div class='data-value'>{{hasRecord ? BMI : 'N/A'}}</div>\n\t\t\t\t\t\t<div class='data-key'>BMI</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='card'>\n\t\t\t\t\t\t<div class='data-value'>{{hasRecord ? weight : 'N/A'}}</div>\n\t\t\t\t\t\t<div class='data-key'>Weight</div>\n\t\t\t\t\t\t<div class='data-unit'>kg</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='card-container'>\n\t\t\t\t\t<div class='card'>\n\t\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" content=\"Whether you have gained weight over time\" placement=\"top\">\n\t\t\t\t\t\t\t<i class=\"el-icon-question\"></i>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t<div class='data-value'>{{hasRecord ? isWeightGain : 'N/A'}}</div>\n\t\t\t\t\t\t<div class='data-key'>Weight Gain</div>\n\t\t\t\t\t\t<div class='data-unit'>True or False</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='card'>\n\t\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" content=\"The period length of your last menstrual\" placement=\"top\">\n\t\t\t\t\t\t\t<i class=\"el-icon-question\"></i>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t<div class='data-value'>{{hasRecord ? menstrualCycle : 'N/A'}}</div>\n\t\t\t\t\t\t<div class='data-key'>Menstrual Length</div>\n\t\t\t\t\t\t<div class='data-unit'>days</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div> \n\t\t\t\t<EditBlock \n\t\t\t\t\t:isEditing='isEditing' \n\t\t\t\t\t:BMI='BMI'\n\t\t\t\t\t:weight='weight'\n\t\t\t\t\t:weightGain='weightGain'\n\t\t\t\t\t:menstrualCycle='menstrualCycle'\n\t\t\t\t\t@submitEditData='submitEditData'\n\t\t\t\t\t@closeBlock='closeEditingBlock'\n\t\t\t\t/>\n\t\t\t\t<InstructionBlock\n\t\t\t\t\t:instruction='instruction'\n\t\t\t\t\t@closeInstruction='instruction=false'\n\t\t\t\t/>\n\t\t\t</el-col>\n\t\t\t<el-col :span='9' class='summary-container'>\n\t\t\t\t\n\t\t\t\t\t<div class='summary-block' v-if=\"hasRecord\">\n\t\t\t\t\t\t<div class='summary-text'>Your health status is</div>\n\t\t\t\t\t\t<div class='summary-result' :class=healthStatus>{{healthStatus}}</div>\n\t\t\t\t\t\t<div class='summary-text' style=\"marginTop: 40px\">Probability of having PCOS is</div>\n\t\t\t\t\t\t<div class='summary-result' :class=healthStatus>{{(100 - healthProbability).toFixed(1)}}%</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class = 'summary-block' v-else>\n\t\t\t\t\t\t<div class='summary-text'>Looks like you haven't used our site!</div>\n\t\t\t\t\t\t<div class='summary-text'>Click Profile button to get started!</div>\n\t\t\t\t\t</div>\n\t\t\t\n\t\t\t\t\t<div class='summary-divider'></div>\n\n\t\t\t\t\t<div class='operate-area'>\n\t\t\t\t\t\t<div class='operate-btn' @click='openInstruction'>Instruction</div>\n\t\t\t\t\t\t<div class='operate-btn' @click='handleEdit'>Profile</div>\n\t\t\t\t\t</div>\n\t\t\t\n\t\t\t</el-col>\n\t</el-row>\n</template>\n\n<script>\n// import * as echarts from 'echarts';\nimport EditBlock from './components/EditBlock.vue'\nimport InstructionBlock from './components/InstructionBlock.vue'\nimport { getExamineHistory } from '@/request/testApi'\n\nexport default {\n\tcomponents: {\n\t\tEditBlock,\n\t\tInstructionBlock\n  },\n\tmounted(){\n\t\tgetExamineHistory({\n\t\t\temail: this.$store.state.email\n\t\t})\n\t\t.then(res => {\n\t\t\tif (!res || !res.data || res.data.length === 0) {\n\t\t\t\tthis.hasRecord = false\n\t\t\t} else {\n\t\t\t\tthis.hasRecord = true\n\t\t\t\tconst data = res.data[0]\n\t\t\t\tthis.healthProbability = Number((Number(data.result) * 100).toFixed(1))\n\t\t\t\tthis.BMI = data.BMI\n\t\t\t\tthis.weight = data.weight\n\t\t\t\tthis.weightGain = data.weightGain + ''\n\t\t\t\tthis.menstrualCycle = data.menstrualCycle\n\t\t\t\tconsole.log('weightGain', this.weightGain)\n\t\t\t}\n\t\t})\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thasRecord: false,\n\t\t\thealthProbability: 0,\n\t\t\tBMI: '',\n\t\t\tweight: '',\n\t\t\tweightGain: '',\n\t\t\tmenstrualCycle: '',\n\t\t\tisEditing: false,\n\t\t\tinstruction: false,\n\t\t\tcolors: [\n        {color: '#F56C6C', percentage: 20},\n        {color: '#E6A23C', percentage: 40},\n        {color: '#61A67D', percentage: 60},\n        {color: '#64C23A', percentage: 80},\n        {color: '#67C23A', percentage: 100}\n      ],\n\t\t\t\n\t\t}\n\t},\n\tcomputed: {\n\t\thealthStatus() {\n\t\t\tif (this.healthProbability < 25) {\n\t\t\t\treturn 'WEAK'\n\t\t\t} else if (this.healthProbability < 50) {\n\t\t\t\treturn 'NORMAL'\n\t\t\t} else if (this.healthProbability < 75) {\n\t\t\t\treturn 'GOOD'\n\t\t\t} else {\n\t\t\t\treturn 'GREAT'\n\t\t\t}\n\t\t},\n\t\tisWeightGain() {\n\t\t\tif (this.weightGain === '') return 'N/A';\n\t\t\treturn this.weightGain === '1' ? 'True' : 'False'\n\t\t}\n\t},\n\tmethods: {\n\t\tsubmitEditData(obj) {\n\t\t\tthis.BMI = Number(Number(obj.BMI).toFixed(1));\n\t\t\tthis.weightGain = obj.weightGain;\n\t\t\tthis.menstrualCycle = Number(Number(obj.menstrualCycle).toFixed(1));\n\t\t\tthis.weight = Number(Number(obj.weight).toFixed(1));\n\t\t\t// this.healthProbability = this.ret[this.ind]\n\t\t\t// this.ind++\n\t\t\t// this.healthProbability = Number((100 * Math.random()).toFixed(1))\n\t\t\tthis.healthProbability = Number((100 * Number(obj.result)).toFixed(1))\n\t\t\tthis.hasRecord = true\n\t\t},\n\t\tcloseEditingBlock() {\n\t\t\tthis.isEditing = false;\n\t\t},\n\t\thandleEdit() {\n\t\t\tthis.isEditing = true;\n\t\t},\n\t\topenInstruction() {\n\t\t\tthis.instruction = true\n\t\t}\n\t},\n}\n\n</script>\n\n<style scoped>\n.dashboard-container {\n\tbox-sizing: border-box;\n\tmargin: 40px auto;\n\tpadding: 20px;\n\theight: 90%;\n\twidth: 90%;\n\tbackground: #FFF;\n\tborder: 1px solid #EEEEEE;\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n}\n\n.chart-container {\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-right: 1px #EEE solid;\n\tpadding: 0 20px;\n\ttext-align: center;\n}\n\n.chart {\n\t/* width: 80%; */\n\tmargin: 0 auto;\n}\n\n.card-container {\n\twidth: 100%;\n\tdisplay: flex;\n\tmargin: 20px 0 0 10px;\n\tjustify-content: space-between;\n\t/* overflow: auto; */\n}\n.card {\n\tbox-sizing: content-box;\n\theight: 90px;\n\twidth: 180px;\n\tflex: none;\n\tmargin-right: 40px;\n\tbackground: #FFFFFF;\n\tborder: 1px solid #EEEEEE;\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\t/* display: flex;\n\tjustify-content: space-between;\n\tflex-direction: column; */\n\tposition: relative;\n}\n.el-icon-question {\n\tposition: absolute;\n\tright: 10px;\n\ttop: 10px;\n}\n\n.data-value {\n\tmargin: 10px auto 0;\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tcolor: rgba(97, 166, 125, 1);\n}\n\n.data-key {\n\tfont-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n\tword-break: break-all;\n}\n\n.data-unit {\n\tcolor: #777777;\n\tfont-style: italic;\n\tfont-size: 14px;\n\tmargin: 10px auto;\n}\n.summary-container {\n\theight: 100%;\n\tbox-sizing: border-box;\n}\n.summary-block {\n\tpadding-top: 20px;\n\theight: 50%;\n}\n\n.summary-text {\n\tfont-size: 18px;\n\ttext-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n}\n\n.summary-result {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\ttext-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\tcolor: rgba(97, 166, 125, 1);\n\tmargin-top: 10px;\n}\n\n.summary-divider {\n\twidth: 80%;\n\theight: 2px;\n\tbackground-color: #EEEEEE;\n\tmargin: 20px auto 0;\n}\n\n.operate-btn {\n\tmargin: 30px auto;\n\tfont-weight: bold;\n\tline-height: 48px;\n\tfont-size: 20px;\n\tcursor: pointer;\n\tcolor: white;\n\twidth: 70%;\n\theight: 48px;\n\tbackground: rgba(50, 115, 197, 0.8);\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\tborder-radius: 10px;\n}\n\n.WEAK {\n\tcolor: #F56C6C;\n}\n.NORMAL {\n\tcolor: #E6A23C;\n}\n.GOOD {\n\tcolor: #61A67D;\n}\n.GREAT {\n\tcolor: #67C23A;\n\tfont-size: 28px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}